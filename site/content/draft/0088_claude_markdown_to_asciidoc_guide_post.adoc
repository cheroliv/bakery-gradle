= Guide de Conversion : De Markdown à AsciiDoc, l'exemple de GEMINI.md
@cheroliv
2025-09-09
:jbake-type: post
:jbake-status: published
:jbake-date: 2025-09-09
:jbake-tags: asciidoc, markdown, conversion, documentation, jbake
:summary: Un guide pratique pour migrer vos documents Markdown vers AsciiDoc, illustré par la conversion du fichier de pilotage GEMINI.md.
:icons: font
:sectnumlevels: 6
:sectnums:
:toc: left
:toc-title: Sommaire
:source-highlighter: highlightjs

._Temps de lecture :_ 15 minutes.

._Public cible :_ Développeurs, rédacteurs techniques, et toute personne souhaitant migrer sa documentation de Markdown vers AsciiDoc.

== Introduction

Dans le monde de la documentation technique, Markdown a longtemps été le format de choix pour sa simplicité et sa facilité d'apprentissage. Cependant, pour des besoins plus complexes, AsciiDoc offre une richesse syntaxique et des fonctionnalités avancées qui peuvent transformer la manière dont nous rédigeons et gérons nos documents.

Cet article se propose de vous guider à travers le processus de conversion de documents Markdown vers AsciiDoc, en prenant comme exemple concret notre propre fichier de pilotage de projet : `GEMINI.md`. Nous explorerons les défis, les pièges courants, les meilleures pratiques et les astuces pour une migration réussie.

== Pourquoi migrer de Markdown à AsciiDoc ?

Markdown est excellent pour les documents simples et rapides. Mais dès que la complexité augmente (tableaux sophistiqués, références croisées, blocs d'admonition, inclusions de fichiers, etc.), ses limites apparaissent. AsciiDoc, avec sa syntaxe plus riche et son écosystème robuste (Asciidoctor), permet de :

* Créer des documents plus structurés et sémantiques.
* Gérer des contenus complexes (diagrammes, équations, glossaires).
* Générer une multitude de formats de sortie (HTML, PDF, DocBook, ePub) avec une qualité professionnelle.
* Améliorer la maintenabilité et la réutilisabilité du contenu.

== Le cas pratique : Conversion de GEMINI.md en GEMINI.adoc

Notre fichier de pilotage de projet, `GEMINI.md`, est un document central qui contient les épopées, les user stories, les décisions de développement et la base de connaissances de notre site. Sa conversion en `full_gemini_context.adoc` est une opportunité parfaite pour illustrer les étapes clés de cette migration.

Nous allons parcourir section par section les éléments de `GEMINI.md` et voir comment les transposer en AsciiDoc, en mettant en évidence les équivalences syntaxiques et les améliorations possibles.

== Équivalences syntaxiques de base

=== Titres et sections

La gestion des titres est similaire, mais AsciiDoc offre plus de flexibilité et de sémantique.

==== Markdown
[source,markdown]
----
# Titre de niveau 1
## Titre de niveau 2
### Titre de niveau 3
#### Titre de niveau 4
----

==== AsciiDoc
[source,asciidoc]
----
= Titre de niveau 1
== Titre de niveau 2
=== Titre de niveau 3
==== Titre de niveau 4
----

=== Mise en forme du texte

[WARNING]
====
*Piège majeur :* La logique est inversée entre les deux formats !

* Markdown : `**gras**` et `*italique*`
* AsciiDoc : `*gras*` et `_italique_`

Cette inversion est l'une des sources d'erreur les plus courantes lors de la conversion.
====

==== Markdown
[source,markdown]
----
**Gras** et *italique* et `code`
----

==== AsciiDoc
[source,asciidoc]
----
*Gras* et _italique_ et `code`
----

=== Listes simples

Les listes à puces et numérotées sont également très proches.

==== Markdown
[source,markdown]
----
* Élément de liste à puces 1
* Élément de liste à puces 2

1. Élément de liste numérotée 1
2. Élément de liste numérotée 2
----

==== AsciiDoc
[source,asciidoc]
----
* Élément de liste à puces 1
* Élément de liste à puces 2

. Élément de liste numérotée 1
. Élément de liste numérotée 2
----

=== Séparateurs horizontaux

==== Markdown
[source,markdown]
----
---
----

==== AsciiDoc
[source,asciidoc]
----
'''
----

[NOTE]
====
Bien que `---` fonctionne dans certains processeurs AsciiDoc, `'''` (trois apostrophes) est la syntaxe standard recommandée par les plugins IDE comme celui d'IntelliJ.
====

== Les pièges et subtilités de la conversion

=== Les délimiteurs visuellement similaires

L'un des pièges les plus vicieux d'AsciiDoc réside dans la similarité visuelle des délimiteurs de blocs :

[cols="2,2,3", options="header"]
|===
| Délimiteur | Type de bloc | Erreur fréquente

| `____` | Citation | Confusion avec `----`
| `----` | Code | Pris pour une citation
| `....` | Littéral | Confondu avec du code
| `****` | Encadré | Moins problématique
| `====` | Exemple | Utilisé pour admonitions
|===

[TIP]
====
*Astuces pour éviter les erreurs :*

* **Mnémotechnique :** `____` = **U**nderscores = **Q**uote
* **Copier-coller :** Réutilisez les délimiteurs qui fonctionnent
* **Éditeur :** Utilisez la coloration syntaxique pour repérer les erreurs
* **Plugin IntelliJ :** Il propose automatiquement les bonnes corrections
====

=== Citations et blocs de contenu

La gestion des citations révèle l'une des différences majeures entre les deux formats, et constitue un piège fréquent lors de la conversion.

==== Markdown
[source,markdown]
----
> Ceci est une citation
> sur plusieurs lignes.
----

==== AsciiDoc
[source,asciidoc]
----
____
Ceci est une citation
sur plusieurs lignes.
____
----

[IMPORTANT]
====
*Exemple concret d'erreur :* Si vous écrivez par erreur `----` au lieu de `____`, votre citation s'affichera comme un bloc de code ! Cette confusion visuelle peut faire perdre beaucoup de temps.
====

=== Gestion des listes complexes avec continuations

AsciiDoc introduit le concept de continuation de bloc (`+`) pour rattacher du contenu aux éléments de liste.

==== Markdown
[source,markdown]
----
1. Premier élément
   > Citation rattachée à l'élément

2. Deuxième élément
   ```python
   # Code rattaché à l'élément
   print("hello")
   ```
----

==== AsciiDoc

[source,asciidoc]
----
. Premier élément
----
+
____
Citation rattachée à l'élément
____

. Deuxième élément
+
[source,python]
----
#Code rattaché à l'élément
print("hello")
----



[CAUTION]
====
*Attention :* Sans le `+` de continuation, le bloc sera détaché de l'élément de liste et apparaîtra au niveau racine du document. C'est un piège classique qui casse la structure hiérarchique.
====

=== Admonitions et callouts

C'est un domaine où AsciiDoc surpasse largement Markdown.

==== Markdown (GitHub Callouts)
[source,markdown]
----
> [!IMPORTANT]
> **Directive Utilisateur :** Message important.

> [!WARNING]
> Attention à ce point critique.
----

==== AsciiDoc
[source,asciidoc]
----
[IMPORTANT]
====
*Directive Utilisateur :* Message important.
====

WARNING: Attention à ce point critique.
----

[NOTE]
====
AsciiDoc propose plusieurs types d'admonitions : `NOTE`, `TIP`, `IMPORTANT`, `CAUTION`, `WARNING`. Chacune a son style visuel distinctif.
====

=== Blocs de code

AsciiDoc excelle dans la gestion des blocs de code, avec la coloration syntaxique et des options avancées.

==== Markdown
[source,markdown]
----
```python
def hello_world():
    print("Hello, Markdown!")
```
----

==== AsciiDoc
[source,asciidoc]
....
[source,python]
----
def hello_world():
print("Hello, AsciiDoc!")
----
....

=== Tableaux

Les tableaux sont un autre point fort d'AsciiDoc, permettant des structures plus complexes et une meilleure lisibilité.

==== Markdown
[source,markdown]
----
| En-tête 1 | En-tête 2 |
|---|---|
| Cellule 1 | Cellule 2 |
| Cellule 3 | Cellule 4 |
----

==== AsciiDoc
[source,asciidoc]
----
|===
| En-tête 1 | En-tête 2

| Cellule 1 | Cellule 2
| Cellule 3 | Cellule 4
|===
----

=== Gestion des attributs et métadonnées

AsciiDoc excelle dans la gestion des métadonnées et des attributs de document.

==== Markdown (Front Matter YAML)
[source,markdown]
----
---
title: Mon Article
date: 2025-09-09
tags: markdown, conversion
---

# Mon Article
----

==== AsciiDoc (En-tête de document)
[source,asciidoc]
----
= Mon Article
@auteur
2025-09-09
:jbake-type: post
:jbake-status: published
:jbake-tags: asciidoc, conversion
:icons: font
:toc: left
----

== Conseils pratiques pour une conversion réussie

=== Approche méthodologique

. **Conversion par sections :** Ne convertissez pas tout d'un coup, procédez section par section
. **Validation continue :** Vérifiez le rendu après chaque section convertie
. **Tests des fonctionnalités :** Testez particulièrement les listes, citations et blocs de code
. **Sauvegarde :** Gardez toujours une copie de l'original

=== Outils recommandés

* **Pandoc :** Pour une conversion automatique de base (nécessite des ajustements manuels)
* **Plugin IntelliJ AsciiDoc :** Excellent support avec prévisualisation en temps réel et corrections automatiques
* **Asciidoctor :** Le processeur de référence pour valider le rendu final

=== Check-list de vérification post-conversion

- [ ] Tous les titres s'affichent correctement
- [ ] Les listes conservent leur hiérarchie
- [ ] Les blocs de citation ne s'affichent pas comme du code (`____` vs `----`)
- [ ] Les blocs de code ont la bonne coloration syntaxique
- [ ] Les continuations de liste fonctionnent (`+`)
- [ ] La mise en forme (gras/italique) est correcte (attention à l'inversion !)
- [ ] Les séparateurs horizontaux utilisent `'''`
- [ ] Les métadonnées du document sont présentes

== Exemple concret : Product Backlog

Voici un exemple tiré de notre conversion réelle, montrant la gestion complexe des listes avec citations :

=== Version Markdown
[source,markdown]
----
#### P Product Backlog (All tasks)

*   **Épopée 11 : Migration du Fichier de Pilotage vers AsciiDoc**
    > **En tant que développeur (cheroliv), je veux migrer le fichier de pilotage `GEMINI.md` vers `GEMINI.adoc`, afin de bénéficier d'une meilleure intégration avec ma stack de développement et mes outils.**
----

=== Version AsciiDoc

[source,asciidoc]
----
==== P Product Backlog (All tasks)

* *Épopée 11 : Migration du Fichier de Pilotage vers AsciiDoc*
+
____
*En tant que développeur (cheroliv), je veux migrer le fichier de pilotage `GEMINI.md` vers `full_gemini_context.adoc`, afin de bénéficier d'une meilleure intégration avec ma stack de développement et mes outils.*
____
----

[IMPORTANT]
====
Notez les éléments clés :

* `####` devient `====` (titre niveau 4)
* `**texte**` devient `*texte*` (gras)
* Le `+` de continuation est essentiel
* `> citation` devient un bloc `____`
====

== Conclusion

La migration de Markdown vers AsciiDoc est un investissement qui porte ses fruits pour la documentation technique exigeante. Les principaux défis résident dans :

. **L'inversion des syntaxes de mise en forme** (gras/italique)
. **La confusion visuelle des délimiteurs** (`____` vs `----`)
. **La maîtrise des continuations de liste** (`+`)
. **L'adaptation aux nouvelles possibilités** (admonitions, attributs)

En suivant ce guide et en explorant les nombreuses fonctionnalités d'AsciiDoc, vous pourrez créer des documents plus clairs, plus structurés et plus professionnels. La clé du succès réside dans une approche méthodique, une validation continue et l'utilisation d'outils adaptés comme le plugin IntelliJ.

N'hésitez pas à partager vos expériences et vos astuces de conversion dans les commentaires !

== Pour aller plus loin

* Documentation officielle AsciiDoc : https://asciidoc.org
* Asciidoctor : https://asciidoctor.org
* Plugin IntelliJ IDEA AsciiDoc
* Le fichier `full_gemini_context.adoc` (version convertie de notre fichier de pilotage)